<!-- source-hash: 361c30f0d01d71182513ce360d4a115c -->
A comprehensive React hook for managing chat functionality with real-time messaging, dialog history, and approval workflows using NATS streaming and GraphQL.

## Key Components

- **Core State Management**: Handles typing indicators, streaming status, error states, and dialog IDs
- **Message Management**: Integrates with `useChatMessages` for message state and `useChatApprovals` for approval workflows
- **Real-time Processing**: Uses NATS WebSocket subscriptions and chunk processing for live message streaming
- **API Integration**: Connects to ChatApiService for dialog creation and message sending
- **History Management**: Supports resuming dialogs with historical message loading via GraphQL

## Usage Example

```typescript
import { useChat } from './useChat'

function ChatComponent() {
  const {
    messages,
    isTyping,
    isStreaming,
    error,
    dialogId,
    sendMessage,
    clearMessages,
    resumeDialog
  } = useChat({
    useNats: true,
    onMetadataUpdate: (metadata) => {
      console.log('Model:', metadata.modelName)
    }
  })

  const handleSubmit = async (text: string) => {
    await sendMessage(text)
  }

  const handleResumeChat = async (id: string) => {
    const success = await resumeDialog(id)
    if (!success) {
      console.error('Failed to resume dialog')
    }
  }

  return (
    <div>
      {messages.map(msg => (
        <div key={msg.id}>{msg.content}</div>
      ))}
      {isTyping && <div>Assistant is typing...</div>}
      {error && <div className="error">{error}</div>}
    </div>
  )
}
```