<!-- source-hash: 6ee98fb88e6403d601ad6a8bc10d2d13 -->
Manages NATS (messaging system) connections for the Flamingo agent, handling authentication, reconnection, and TLS configuration for secure communication with the server.

## Key Components

- **`NatsConnectionManager`** - Main connection manager with authentication and TLS support
- **`connect()`** - Establishes NATS connection with auto-reconnection and auth callbacks
- **`get_client()`** - Returns the connected NATS client for message operations
- **`perform_reauthentication_and_build_url()`** - Handles token refresh during reconnection
- **`build_nats_connection_url()`** - Constructs authenticated WebSocket connection URLs

## Usage Example

```rust
use crate::services::nats_connection_manager::NatsConnectionManager;

// Initialize the connection manager
let manager = NatsConnectionManager::new(
    "nats://localhost:4222".to_string(),
    config_service,
    initial_config_service,
    auth_service,
    tls_provider,
);

// Connect to NATS server
manager.connect().await?;

// Get client for messaging operations
let client = manager.get_client().await?;

// Use client for pub/sub operations
client.publish("subject", "message".into()).await?;
```

The manager automatically handles authentication token refresh, connection retries with exponential backoff, and conditional TLS configuration for local development environments. It uses WebSocket transport with JWT-based authorization for secure communication with the Flamingo platform.