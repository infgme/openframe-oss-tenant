<!-- source-hash: be7e603a5ec108c01c728b61cbb888d4 -->
React hook for managing API key operations with comprehensive CRUD functionality and usage analytics.

## Key Components

- **`ApiKeyRecord`** - TypeScript type defining the structure of an API key with metadata, usage statistics, and expiration settings
- **`useApiKeys`** - Custom hook providing state management and methods for API key operations
- **State Management** - `items`, `isLoading`, and `error` states for tracking API keys and request status
- **CRUD Operations** - Complete set of methods for creating, reading, updating, and managing API keys
- **Usage Analytics** - Tracks request counts, success/failure rates, and last usage timestamps

## Usage Example

```typescript
import { useApiKeys, ApiKeyRecord } from './hooks/use-api-keys'

function ApiKeyManager() {
  const { 
    items, 
    isLoading, 
    error, 
    fetchApiKeys, 
    createApiKey, 
    updateApiKey,
    regenerateApiKey,
    setApiKeyEnabled 
  } = useApiKeys()

  // Load API keys on mount
  useEffect(() => {
    fetchApiKeys()
  }, [fetchApiKeys])

  // Create a new API key
  const handleCreate = async () => {
    try {
      const result = await createApiKey({
        name: 'My API Key',
        description: 'For external integrations',
        expiresAt: '2024-12-31T23:59:59Z'
      })
      console.log('New key created:', result.fullKey)
      await fetchApiKeys() // Refresh list
    } catch (err) {
      console.error('Failed to create API key:', err)
    }
  }

  // Toggle API key status
  const handleToggle = async (id: string, currentStatus: boolean) => {
    await setApiKeyEnabled(id, !currentStatus)
    await fetchApiKeys() // Refresh list
  }

  return (
    <div>
      {isLoading && <p>Loading...</p>}
      {error && <p>Error: {error}</p>}
      {items.map(key => (
        <div key={key.id}>
          <h3>{key.name}</h3>
          <p>Requests: {key.totalRequests} (Success: {key.successfulRequests})</p>
          <button onClick={() => handleToggle(key.id, key.enabled)}>
            {key.enabled ? 'Disable' : 'Enable'}
          </button>
        </div>
      ))}
    </div>
  )
}
```