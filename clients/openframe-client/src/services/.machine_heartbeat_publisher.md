<!-- source-hash: f5c661add367cc4e4d4f2784f1fcc932 -->
A service responsible for publishing machine heartbeat messages to NATS topics, enabling system monitoring and health tracking across the Flamingo MSP platform.

## Key Components

- **`MachineHeartbeatPublisher`** - Main service struct that orchestrates heartbeat publishing
- **`new()`** - Constructor accepting NATS publisher and configuration service dependencies
- **`publish_heartbeat()`** - Async method that creates and publishes heartbeat messages to machine-specific NATS topics

## Usage Example

```rust
use machine_heartbeat_publisher::MachineHeartbeatPublisher;
use nats_message_publisher::NatsMessagePublisher;
use agent_configuration_service::AgentConfigurationService;

// Initialize dependencies
let nats_publisher = NatsMessagePublisher::new(nats_connection).await?;
let config_service = AgentConfigurationService::new();

// Create heartbeat publisher
let heartbeat_publisher = MachineHeartbeatPublisher::new(
    nats_publisher,
    config_service,
);

// Publish heartbeat message
heartbeat_publisher.publish_heartbeat().await?;
// Publishes to topic: "machine.{machine_id}.heartbeat"
```

The publisher retrieves the machine ID from configuration, creates a `MachineHeartbeatMessage`, serializes it to JSON, and publishes to a machine-specific NATS topic following the pattern `machine.{machine_id}.heartbeat`. This enables centralized monitoring of agent health and connectivity status across the distributed MSP infrastructure.