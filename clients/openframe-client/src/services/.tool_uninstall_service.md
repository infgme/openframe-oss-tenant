<!-- source-hash: 487e3f2f0417126e6e3421e5675b4f76 -->
A service that manages the uninstallation of tools by executing their uninstall commands and cleaning up processes. Provides atomic operations - either all tools are uninstalled successfully or the operation fails completely.

## Key Components

- `ToolUninstallService` - Main service struct that orchestrates tool uninstallation
- `uninstall_all()` - Public method to uninstall all installed tools atomically
- `uninstall_tool()` - Private method to handle individual tool uninstallation
- Dependencies on `InstalledToolsService`, `ToolCommandParamsResolver`, `ToolKillService`, and `DirectoryManager`

## Usage Example

```rust
use crate::services::{ToolUninstallService, InstalledToolsService, ToolCommandParamsResolver, ToolKillService};
use crate::platform::DirectoryManager;

// Create service instance
let uninstall_service = ToolUninstallService::new(
    installed_tools_service,
    command_params_resolver,
    tool_kill_service,
    directory_manager,
);

// Uninstall all tools atomically
match uninstall_service.uninstall_all().await {
    Ok(()) => println!("All tools uninstalled successfully"),
    Err(e) => eprintln!("Failed to uninstall tools: {}", e),
}
```

The service follows a strict fail-fast approach: it stops tool processes, executes uninstall commands with processed parameters, and fails immediately if any step encounters an error. Special handling is included for Fleet tools that require stopping the `osqueryd` process.