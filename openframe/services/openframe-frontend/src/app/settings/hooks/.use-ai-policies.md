<!-- source-hash: 2fd0d8b7f8379f69ae5508b9690d28d7 -->
A React hook for managing AI policy templates and guardrails, providing functionality to fetch, select, activate, and customize policy configurations.

## Key Components

- **`useAIPolicies()`** - Main hook that manages AI policy templates state and operations
- **`fetchTemplates()`** - Retrieves all available policy templates from the API
- **`fetchTemplate()`** - Fetches detailed information for a specific policy template
- **`activateTemplate()`** - Activates a selected policy template as the current guardrails
- **`createOrUpdateCustomPolicy()`** - Creates or updates custom policy configurations with approval level overrides
- **`getErrorMessage()`** - Utility function for extracting error messages with fallbacks

## Usage Example

```typescript
import { useAIPolicies } from './use-ai-policies'

function PolicyManagement() {
  const {
    templates,
    selectedTemplate,
    selectedTemplateId,
    setSelectedTemplateId,
    isLoading,
    activateTemplate,
    createOrUpdateCustomPolicy
  } = useAIPolicies()

  const handleActivatePolicy = async () => {
    if (selectedTemplateId) {
      try {
        await activateTemplate(selectedTemplateId)
        console.log('Policy activated successfully')
      } catch (error) {
        console.error('Failed to activate policy:', error)
      }
    }
  }

  const handleCreateCustomPolicy = async () => {
    const overrides = {
      'sensitive-data-access': 'manager' as ApprovalLevel,
      'external-api-calls': 'admin' as ApprovalLevel
    }
    
    try {
      const customPolicyId = await createOrUpdateCustomPolicy('base-template-id', overrides)
      console.log('Custom policy created:', customPolicyId)
    } catch (error) {
      console.error('Failed to create custom policy:', error)
    }
  }

  if (isLoading) return <div>Loading policies...</div>

  return (
    <div>
      <select 
        value={selectedTemplateId || ''} 
        onChange={(e) => setSelectedTemplateId(e.target.value)}
      >
        {templates.map(template => (
          <option key={template.id} value={template.id}>
            {template.displayName}
          </option>
        ))}
      </select>
      
      <button onClick={handleActivatePolicy}>
        Activate Policy
      </button>
      
      <button onClick={handleCreateCustomPolicy}>
        Create Custom Policy
      </button>
    </div>
  )
}
```

The hook provides comprehensive state management for AI policy templates, including loading states, error handling with toast notifications, and automatic template synchronization. It supports both predefined templates and custom policy creation with approval level overrides.