<!-- source-hash: b0f17255915dcea1514d3021744ab35e -->
Custom React hook that fetches and aggregates organization data with device statistics for dashboard overview displays. It combines organization details with device status counts to create enriched rows showing active/inactive device breakdowns per organization.

## Key Components

### Main Export
- **`useOrganizationsOverview(limit?: number)`** - Hook that returns organization overview data with device statistics

### Types
- **`OrganizationOverviewRow`** - Enriched organization data with device counts and percentages
- **`OrganizationNode`** - Basic organization structure from GraphQL
- **`DeviceFiltersResponse`** - Device status and filter data structure

### Internal Functions
- **`calculateDeviceStats()`** - Computes active/inactive device counts and percentages
- **`fetchOrgDetails()`** - Retrieves detailed organization information
- **`fetchOrgDeviceStats()`** - Gets device status breakdown per organization

## Usage Example

```typescript
import { useOrganizationsOverview } from './use-organizations-overview'

function OrganizationsDashboard() {
  // Fetch top 15 organizations with device stats
  const { 
    rows, 
    loading, 
    error, 
    totalOrganizations, 
    refresh 
  } = useOrganizationsOverview(15)

  if (loading) return <div>Loading organizations...</div>
  if (error) return <div>Error: {error}</div>

  return (
    <div>
      <h2>Organizations ({totalOrganizations} total)</h2>
      {rows.map(org => (
        <div key={org.id} className="org-card">
          <h3>{org.name}</h3>
          <p>Total Devices: {org.total}</p>
          <p>Active: {org.active} ({org.activePct}%)</p>
          <p>Inactive: {org.inactive} ({org.inactivePct}%)</p>
        </div>
      ))}
      <button onClick={refresh}>Refresh Data</button>
    </div>
  )
}
```

The hook implements performance optimizations including duplicate fetch prevention, race condition handling, and Promise batching for efficient data loading.