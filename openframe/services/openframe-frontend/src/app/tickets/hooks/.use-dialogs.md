<!-- source-hash: 010bc92c33b14985297e930cb50e7846 -->
A React hook that manages the fetching, searching, and refreshing of dialog/chat conversations with GraphQL integration and error handling.

## Key Components

- **`useDialogs`** - Main hook that accepts an `archived` boolean parameter to toggle between current and archived dialogs
- **`fetchDialogs`** - Core function that executes the GraphQL query with filtering, pagination, and search capabilities
- **`searchDialogs`** - Wrapper function that updates search state and triggers a filtered fetch
- **`refreshDialogs`** - Function that re-fetches dialogs and displays success/error toast notifications
- **State Management** - Manages `dialogs` array, loading state, error state, and search term
- **Error Handling** - Comprehensive error catching with GraphQL error parsing and user-friendly toast notifications

## Usage Example

```typescript
import { useDialogs } from './use-dialogs'

function ChatsList() {
  // For current dialogs
  const { 
    dialogs, 
    isLoading, 
    error, 
    searchDialogs, 
    refreshDialogs 
  } = useDialogs(false)

  // For archived dialogs
  const { 
    dialogs: archivedDialogs,
    searchDialogs: searchArchived 
  } = useDialogs(true)

  const handleSearch = async (searchTerm: string) => {
    try {
      await searchDialogs(searchTerm)
    } catch (error) {
      console.error('Search failed:', error)
    }
  }

  if (isLoading) return <div>Loading chats...</div>
  if (error) return <div>Error: {error}</div>

  return (
    <div>
      {dialogs.map(dialog => (
        <div key={dialog.id}>{dialog.title}</div>
      ))}
    </div>
  )
}
```

The hook automatically handles GraphQL response parsing, connection edge unwrapping, and provides consistent error handling with toast notifications for a smooth user experience.