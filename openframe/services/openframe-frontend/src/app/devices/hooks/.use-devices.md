<!-- source-hash: cc78572b942f79934fd1529ece68b423 -->
A React hook for managing device data fetching, filtering, and pagination with GraphQL integration and state management.

## Key Components

- **useDevices** - Main hook that provides device management functionality
- **State Management** - Handles devices list, filters, loading states, and pagination info
- **Fetch Functions** - `fetchDevices`, `fetchDeviceFilters` for API calls
- **Search & Pagination** - `searchDevices`, `fetchNextPage`, `fetchFirstPage` for data navigation
- **Filter Management** - Automatic refetching when filters change with loop prevention
- **Error Handling** - Toast notifications and error state management

## Usage Example

```typescript
import { useDevices } from './use-devices'

function DevicesList() {
  const filters = { status: 'active', type: 'server' }
  
  const {
    devices,
    deviceFilters,
    isLoading,
    error,
    searchDevices,
    refreshDevices,
    fetchNextPage,
    hasLoadedBeyondFirst,
    markInitialLoadDone
  } = useDevices(filters)

  // Initial load (called by view component)
  useEffect(() => {
    fetchDevices().then(() => markInitialLoadDone())
  }, [])

  const handleSearch = (term: string) => {
    searchDevices(term)
  }

  const loadMore = () => {
    fetchNextPage('') // current search term
  }

  return (
    <div>
      {devices.map(device => (
        <DeviceCard key={device.id} device={device} />
      ))}
      {hasLoadedBeyondFirst && (
        <button onClick={loadMore}>Load More</button>
      )}
    </div>
  )
}
```

The hook provides comprehensive device management with automatic filter-based refetching, pagination controls, and proper loading state management. Initial data fetching is intentionally controlled by the consuming component to support URL-based cursor initialization.