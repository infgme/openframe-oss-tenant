<!-- source-hash: c86be21508d356b14fae00fe1224dbfa -->
A Zustand store managing background message state for multiple Mingo AI chat dialogs, handling message storage, unread counts, and typing indicators across different conversation threads.

## Key Components

**State Properties:**
- `dialogMessages` - Message storage per dialog ID with 50 message limit
- `unreadCounts` - Unread message counters per dialog
- `backgroundTypingIndicators` - Typing status for background dialogs
- `activeDialogId` - Currently active dialog identifier

**Core Actions:**
- `addBackgroundMessage()` - Adds/updates messages with deduplication
- `setActiveDialogId()` - Sets the current active dialog
- `incrementUnreadCount()` / `resetUnreadCount()` - Manages unread counters
- `setBackgroundTyping()` - Updates typing indicators
- `moveBackgroundToActive()` - Transfers background messages to active state

**Utility Functions:**
- `initializeDialog()` - Sets up new dialog state
- `mergeDialogMessages()` - Merges new messages avoiding duplicates
- `preserveStreamingMessage()` - Handles real-time streaming messages
- `clearDialogData()` - Removes all dialog data

## Usage Example

```typescript
import { useMingoBackgroundMessagesStore } from './mingo-background-messages-store'

function ChatInterface() {
  const {
    setActiveDialogId,
    addBackgroundMessage,
    getUnreadCount,
    moveBackgroundToActive,
    isBackgroundTyping
  } = useMingoBackgroundMessagesStore()

  const switchToDialog = (dialogId: string) => {
    // Move background messages to active state
    const backgroundMessages = moveBackgroundToActive(dialogId)
    setActiveDialogId(dialogId)
    
    // Use backgroundMessages in active chat
    console.log(`Loaded ${backgroundMessages.length} messages`)
  }

  const addMessage = (dialogId: string, message: Message) => {
    addBackgroundMessage(dialogId, message)
    
    // Show unread count if not active
    const unreadCount = getUnreadCount(dialogId)
    console.log(`${unreadCount} unread messages`)
  }

  return <div>/* Chat UI */</div>
}
```