<!-- source-hash: 538f970b2a7549cf2e342ccef8e5e358 -->
Utilities for authenticated file uploads and deletions in the OpenFrame platform, handling both cookie-based session auth and Bearer token authentication.

## Key Components

- `uploadWithAuth()` - Core function for uploading files with automatic authentication
- `deleteWithAuth()` - Function for deleting files with authentication
- `useAuthenticatedUpload()` - React hook providing upload functionality with loading states

## Usage Example

```typescript
import { uploadWithAuth, useAuthenticatedUpload } from './upload-with-auth'

// Direct upload function
const uploadFile = async (file: File) => {
  try {
    const imageUrl = await uploadWithAuth('/uploads/images', file, 'image')
    console.log('Uploaded:', imageUrl)
  } catch (error) {
    console.error('Upload failed:', error.message)
  }
}

// React hook usage
function FileUploader() {
  const { upload, isUploading, error } = useAuthenticatedUpload()
  
  const handleUpload = async (file: File) => {
    const url = await upload('/api/files', file)
    if (url) {
      // Handle successful upload
    }
  }
  
  return (
    <div>
      {isUploading && <p>Uploading...</p>}
      {error && <p>Error: {error}</p>}
    </div>
  )
}
```

The utilities automatically handle URL construction, include credentials for session auth, and add Bearer tokens when in development mode. Response parsing supports multiple common URL field formats from different API endpoints.