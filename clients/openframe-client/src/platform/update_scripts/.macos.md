<!-- source-hash: 31c67cea2672d7e0ce1070c2d12df8b7 -->
This file provides macOS-specific shell scripting and plist configuration for automated binary updates using launchd services.

## Key Components

- **`UPDATER_PLIST_TEMPLATE`** - XML plist template for creating a temporary launchd service that manages the update process
- **`UPDATE_SCRIPT_MACOS`** - Complete bash script that handles service stopping, binary replacement, backup creation, and service restart with proper error handling and rollback capabilities

## Usage Example

The templates are designed to be used with string interpolation to create dynamic update configurations:

```rust
// Create plist configuration
let plist_content = UPDATER_PLIST_TEMPLATE
    .replace("{SCRIPT_PATH}", "/tmp/update_script.sh")
    .replace("{BINARY_PATH}", "/tmp/new_binary")
    .replace("{SERVICE_LABEL}", "com.openframe.agent")
    .replace("{TARGET_EXE}", "/usr/local/bin/openframe")
    .replace("{UPDATE_STATE_PATH}", "/tmp/update_state.json");

// Use the bash script for safe binary replacement
let script = UPDATE_SCRIPT_MACOS;
std::fs::write("/tmp/update_script.sh", script)?;
```

The script ensures atomic updates by stopping the launchd service, creating backups, replacing the binary, and restarting the service with comprehensive error handling and automatic rollback on failure.