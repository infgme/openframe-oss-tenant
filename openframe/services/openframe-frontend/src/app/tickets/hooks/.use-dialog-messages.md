<!-- source-hash: 8cdc80f945a5e7d5a1943ad67dc41f3c -->
A React hook for managing dialog message fetching with pagination, loading states, and error handling through GraphQL API calls.

## Key Components

### Main Hook
- `useDialogMessages(dialogId: string)` - Primary hook for managing dialog message state and operations

### State Management
- `messages` - Array of fetched Message objects
- `isLoading` - Boolean indicating fetch operation status
- `error` - Error message string or null
- `hasMore` - Boolean indicating if more messages are available for pagination
- `cursor` - Pagination cursor for GraphQL connection

### Operations
- `fetchMessages(append?: boolean)` - Fetches messages with optional pagination
- `loadMore()` - Loads additional messages when pagination is available
- `refresh()` - Resets and refetches all messages from the beginning

## Usage Example

```typescript
import { useDialogMessages } from './hooks/use-dialog-messages'

function DialogComponent({ dialogId }: { dialogId: string }) {
  const {
    messages,
    isLoading,
    error,
    hasMore,
    loadMore,
    refresh
  } = useDialogMessages(dialogId)

  if (isLoading && messages.length === 0) {
    return <div>Loading messages...</div>
  }

  if (error) {
    return (
      <div>
        Error: {error}
        <button onClick={refresh}>Retry</button>
      </div>
    )
  }

  return (
    <div>
      {messages.map(message => (
        <div key={message.id}>{message.content}</div>
      ))}
      {hasMore && (
        <button onClick={loadMore} disabled={isLoading}>
          {isLoading ? 'Loading...' : 'Load More'}
        </button>
      )}
    </div>
  )
}
```

The hook automatically fetches messages when the `dialogId` changes, handles GraphQL pagination by fetching all available pages in batches of 100, and provides comprehensive error handling with toast notifications.