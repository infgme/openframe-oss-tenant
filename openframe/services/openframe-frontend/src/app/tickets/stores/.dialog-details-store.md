<!-- source-hash: abd29718decfe57cd0ea1702b7966747 -->
Zustand store managing dialog details, messages, and real-time communication state for the Flamingo chat system. Handles message fetching, pagination, and live updates with separate client and admin chat channels.

## Key Components

- **State Management**: Current dialog, messages (client/admin separated), loading states, and error handling
- **Message Operations**: `fetchDialog()`, `fetchMessages()`, `loadMore()` for pagination
- **Real-time Features**: `addRealtimeMessage()` for live updates, `setTypingIndicator()` for typing status
- **Message Filtering**: Separates CLIENT_CHAT and ADMIN_AI_CHAT messages into different arrays
- **Error Handling**: Comprehensive error states for dialog and message operations
- **Polling Support**: `pollNew` parameter for fetching newest messages without full reload

## Usage Example

```typescript
import { useDialogDetailsStore } from './dialog-details-store'

function DialogView({ dialogId }: { dialogId: string }) {
  const {
    currentDialog,
    currentMessages,
    adminMessages,
    isLoadingDialog,
    fetchDialog,
    fetchMessages,
    addRealtimeMessage,
    clearCurrent
  } = useDialogDetailsStore()

  useEffect(() => {
    // Load dialog and messages
    fetchDialog(dialogId)
    fetchMessages(dialogId)
    
    return () => clearCurrent() // Cleanup on unmount
  }, [dialogId])

  // Handle real-time message
  const handleNewMessage = (message: Message) => {
    const isAdmin = message.chatType === 'ADMIN_AI_CHAT'
    addRealtimeMessage(message, isAdmin)
  }

  if (isLoadingDialog) return <Loading />

  return (
    <div>
      <DialogHeader dialog={currentDialog} />
      <Messages 
        clientMessages={currentMessages} 
        adminMessages={adminMessages} 
      />
    </div>
  )
}
```