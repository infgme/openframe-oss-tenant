<!-- source-hash: ce74ee63a456561ff396add153e96a52 -->
A Next.js client-side page component that handles authentication routing and provides users with options to either create a new organization or sign in to an existing account.

## Key Components

- **AuthPage**: Main page component that manages authentication flow routing
- **useAuth**: Hook for authentication operations like tenant discovery
- **useAuthStore**: State management for authentication status
- **AuthChoiceSection**: UI component presenting create organization vs sign-in options
- **AuthLayout**: Layout wrapper for authentication pages

## Usage Example

```typescript
// The component automatically handles routing based on auth state
export default function AuthPage() {
  // Redirects authenticated users to dashboard (unless in auth-only mode)
  // Provides handlers for organization creation and sign-in flows
  
  const handleCreateOrganization = (orgName, domain, accessCode, email) => {
    // Stores org data in sessionStorage and navigates to signup
  }
  
  const handleSignIn = async (email) => {
    // Discovers tenants and routes to login or shows error
  }
  
  return (
    <AuthLayout>
      <AuthChoiceSection
        onCreateOrganization={handleCreateOrganization}
        onSignIn={handleSignIn}
      />
    </AuthLayout>
  )
}
```

## Key Features

- **Automatic redirect**: Authenticated users are redirected to dashboard unless in auth-only mode
- **Tenant discovery**: Validates email against existing accounts before allowing sign-in
- **Session storage**: Temporarily stores organization details during signup flow
- **Error handling**: Shows user-friendly messages when accounts aren't found
- **Loading states**: Integrates with authentication loading indicators