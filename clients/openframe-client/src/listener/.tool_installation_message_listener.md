<!-- source-hash: 475d357d7b9696cc95d8b99a41275277 -->
A NATS JetStream message listener that processes tool installation requests for specific machines, handling message acknowledgment and retry logic for failed installations.

## Key Components

- **ToolInstallationMessageListener**: Main struct that manages NATS consumer lifecycle and message processing
- **start()**: Spawns a background task to listen for messages continuously
- **listen()**: Core message processing loop that handles tool installation messages
- **create_consumer()**: Sets up machine-specific NATS JetStream consumer with retry configuration
- **Consumer configuration builders**: Helper methods to generate machine-specific NATS subjects and consumer names

## Usage Example

```rust
use crate::services::{NatsConnectionManager, ToolInstallationService, AgentConfigurationService};

// Initialize the listener with required services
let listener = ToolInstallationMessageListener::new(
    nats_connection_manager,
    tool_installation_service,
    config_service
);

// Start listening for tool installation messages in the background
let handle = listener.start().await?;

// The listener will:
// 1. Create a machine-specific consumer for "TOOL_INSTALLATION" stream
// 2. Process incoming ToolInstallationMessage payloads
// 3. Call tool_installation_service.install() for each message
// 4. Acknowledge successful installations or leave failed ones for retry
```

The listener uses machine ID-based subject filtering (`machine.{id}.tool-installation`) to ensure each agent only processes its own tool installation requests, with configurable acknowledgment timeouts and maximum delivery attempts.