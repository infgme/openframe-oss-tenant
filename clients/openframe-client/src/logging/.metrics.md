<!-- source-hash: 58147e7c2d0da9c964b60285c892ce54 -->
A metrics collection system that captures and stores different metric types (counters, gauges, histograms) from tracing events with labeling and timestamp support.

## Key Components

- **MetricValue** - Enum defining supported metric types: Counter, Gauge, and Histogram
- **Metric** - Data structure containing metric name, value, labels, and timestamp
- **MetricsStore** - In-memory storage for metrics with methods to record different metric types
- **MetricsLayer** - Tracing layer that automatically captures metrics from log events
- **MetricVisitor** - Internal visitor for extracting metric data from tracing field values

## Usage Example

```rust
use std::collections::HashMap;
use tracing::{info, instrument};

// Create the metrics layer and get access to the store
let (metrics_layer, store) = MetricsLayer::new();

// Set up tracing with the metrics layer
tracing_subscriber::registry()
    .with(metrics_layer)
    .init();

// Record metrics through tracing events
info!(counter = 42u64, "request_count");
info!(gauge = 98.6f64, "cpu_usage_percent");
info!(histogram = 0.125f64, "response_time_seconds");

// Or record metrics directly
let mut labels = HashMap::new();
labels.insert("endpoint".to_string(), "/api/users".to_string());

let mut store_guard = store.write().await;
store_guard.record_counter("http_requests", 1, labels);
store_guard.record_gauge("memory_usage", 75.5, HashMap::new());

// Retrieve all metrics
let metrics = store_guard.get_metrics();
for metric in metrics {
    println!("Metric: {} = {:?}", metric.name, metric.value);
}
```